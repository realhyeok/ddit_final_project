package com.probada.project.controller;

import java.util.List;

import javax.annotation.Resource;

import org.springframework.http.HttpStatus;
import org.springframework.http.ResponseEntity;
import org.springframework.stereotype.Controller;
import org.springframework.web.bind.annotation.RequestMapping;
import org.springframework.web.bind.annotation.ResponseBody;

import com.probada.project.service.ProjectService;
import com.probada.project.vo.ProjectVO;

@Controller
@RequestMapping("/app/project")
public class Project {

	@Resource(name="projectService")
	private ProjectService projectService;



	@RequestMapping("/index")
	public String index() {
		String url ="/web-app/project/project";
		return url;
	}

	@RequestMapping("/list")
	public String list() {
		String url ="/web-app/project/project-list";
		return url;
	}

	@RequestMapping("/PtableData")
	@ResponseBody
	public ResponseEntity<List<ProjectVO>> projectListToJSON() throws Exception {

		ResponseEntity<List<ProjectVO>> entity=null;

		List<ProjectVO> projectList = null;

		try {
			projectList = projectService.getProjectList();

			entity  = new ResponseEntity<List<ProjectVO>>(projectList,HttpStatus.OK);
		} catch (Exception e) {
			entity = new ResponseEntity<List<ProjectVO>>(HttpStatus.INTERNAL_SERVER_ERROR);
			e.printStackTrace();
		}

		return entity;
	}
}
